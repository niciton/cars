import{u as G,_ as H}from"./titleBlock.vue.852585bf.js";import{_ as z,u as j,a as J,b as K}from"./lang.1a2c11a9.js";import{a as C,o as m,b as f,e,f as r,h as V,i as k,j as X,t as d,c as B,k as Y,p as Z,l as ee,r as x,m as I,u as a,w as F,q as te,s as ae,v as oe,x as ne,y as se,z as R,F as ie,A as ce}from"./entry.d601c08b.js";import{_ as pe}from"./_plugin-vue_export-helper.c27b6911.js";const le=["type","name","placeholder","value"],_e={key:0,class:"app-input__icon"},re=C({__name:"appInput",props:{type:{},name:{},placeholder:{},modelValue:{},width:{},icon:{}},emits:["update:modelValue","activated_input"],setup(u,{emit:c}){const v=c;return(s,_)=>{const p=z;return m(),f("div",{class:k(["app-input",{icon:s.icon}]),style:X(s.width?`--input-width: ${s.width}px`:null)},[e("input",{type:s.type,name:s.name,placeholder:s.placeholder,value:s.modelValue,onInput:_[0]||(_[0]=o=>v("update:modelValue",o.target.value)),class:"app-input__input"},null,40,le),s.icon?(m(),f("button",_e,[r(p,{id:s.icon,size:24},null,8,["id"])])):V("",!0)],6)}}});const de=u=>(Z("data-v-b7034a86"),u=u(),ee(),u),ue={class:"product"},ge={class:"product__img"},me=["src"],ve={class:"product__controls"},he={class:"product__body"},fe={class:"product__title"},Pe={class:"product__vin"},ye={class:"product__bottom"},$e=de(()=>e("div",{class:"product__days"}," 3 days left ",-1)),A=30,ke=C({__name:"appProduct",props:{prop:{}},setup(u){return(c,v)=>{var _,p,o;const s=z;return m(),f("article",ue,[e("div",ge,[(_=c.prop.photo)!=null&&_.url?(m(),f("img",{key:0,src:(o=(p=c.prop)==null?void 0:p.photo)==null?void 0:o.url,loading:"lazy"},null,8,me)):V("",!0)]),e("div",ve,[r(s,{id:"info",size:24})]),e("div",he,[e("div",fe,d(c.prop.vehicle_name),1),e("div",Pe,d(c.prop.vin),1),e("div",ye,[e("div",{class:k(["product__count",{all:c.prop.angles_count===A}])},[c.prop.angles_count===A?(m(),B(s,{key:0,id:"checkbox-mark",size:16})):V("",!0),Y(" "+d(c.prop.angles_count)+"/"+d(A),1)],2),$e])])])}}});const be=pe(ke,[["__scopeId","data-v-b7034a86"]]),Se={class:"paginatio__text"},we={class:"pagination__controls"},xe=["href"],Ve={class:"pagination__page pagination__active"},ze=e("span",null," of ",-1),Ce={class:"pagination__page pagination__last-page"},Ie=["href"],Ae=C({__name:"pagination",props:{activePage:{},lastPage:{},prePage:{},amountProduct:{}},emits:["change_page"],setup(u,{emit:c}){const{langObj:v,addListener:s}=j();let _=x(v.components.pagination);const p=u,o=I(()=>p),h=I(()=>o.value.activePage<=1),y=I(()=>o.value.activePage>o.value.lastPage-1),$=c;function l(g){const P=g.target.closest(".pagination__link");if(!P)return;let t=p.activePage;P.classList.contains("pagination__next")?++t:--t,$("change_page",{page:t})}return s(g=>{_.value=g.value.components.pagination}),(g,P)=>{const t=z;return a(o).lastPage>1?(m(),f("div",{key:0,onClick:F(l,["prevent"]),class:"pagination"},[e("div",Se,d(a(_).text(a(o).prePage,a(o).amountProduct)),1),e("div",we,[e("a",{href:`?page=${a(o).activePage-1}`,class:k(["pagination__prev pagination__link",{disable:a(h)}])},[r(t,{id:"arrow",size:24})],10,xe),e("div",Ve,d(a(o).activePage),1),ze,e("div",Ce,d(a(o).lastPage),1),e("a",{href:`?page=${g.activePage+1}`,class:k(["pagination__next pagination__link",{disable:a(y)}])},[r(t,{id:"arrow",size:24})],10,Ie)])])):V("",!0)}}});const Le={class:"page-home page-container container"},Ne={class:"amount-card"},Re={class:"product__container"},je={class:"product__controls"},Be={class:"product__controls_pre-page"},Fe={class:"product__controls_add-auto"},Me={class:"product__products"},Te=C({__name:"index",props:{modelValue:{default:""},modelModifiers:{}},emits:["update:modelValue"],async setup(u){let c,v;const{langObj:s,addListener:_}=j(),p=te(),o=ae(u,"modelValue");let h=x(s.pages.home),y=x(0),$=oe([]),l=ne({prePage:20,activePage:1,lastPage:1}),g=x(!1);const P=[{id:20,title:"20"},{id:9,title:"9"}],t=new URLSearchParams(p.currentRoute.value.fullPath.split("?")[1]);t.has("per_page")||t.set("per_page",String(l.value.prePage)),t.has("page")||t.set("page",String(l.value.activePage));const M=P.findIndex(({id:i})=>i==+(t.get("per_page")||0)),L=i=>`${i}${[...t.keys()].length?`?${t.toString()}`:""}`;function U({page:i}){l.value.activePage=i,i>1?t.set("page",String(i)):t.delete("page"),b()}function q(i){i.id!==20?t.set("per_page",String(i.id)):t.delete("per_page"),t.delete("page"),b()}async function b(i=!0){g.value=!0;const{data:S}=await G(L("https://api.caiman-app.de/api/cars-test"),{server:!0},"$pqtWcjQkdb"),n=S.value;$.splice(0,99),$.push(...(n==null?void 0:n.data)||[]),y.value=(n==null?void 0:n.meta.total)||0,l.value.prePage=(n==null?void 0:n.meta.per_page)||9,l.value.activePage=(n==null?void 0:n.meta.current_page)||1,l.value.lastPage=(n==null?void 0:n.meta.last_page)||1,g.value=!1,i&&p.push(L(p.currentRoute.value.path))}function N(){o.value?t.set("search",String(o.value)):t.delete("search"),t.delete("page"),b()}return[c,v]=se(()=>b(!1)),await c,v(),_(i=>{h.value=i.value.pages.home}),o.value=t.get("search")||"",(i,S)=>{const n=H,O=re,Q=J,T=z,D=K,E=be,W=Ae;return m(),f("div",Le,[r(n,{title:a(h).title},{default:R(()=>[e("div",Ne,d(a(y)),1)]),_:1},8,["title"]),e("div",{class:k(["load-screen",{active:a(g)}])},null,2),e("div",Re,[e("div",je,[e("form",{class:"product__controls_search",onSubmit:F(N,["prevent"])},[r(O,{modelValue:o.value,"onUpdate:modelValue":S[0]||(S[0]=w=>o.value=w),onActivated_input:N,type:"text",name:"search",placeholder:a(h).search,icon:"search"},null,8,["modelValue","placeholder"])],32),e("div",Be,[e("span",null,d(a(h).prePage),1),r(Q,{onSelect_change:q,"min-width-text":20,"default-select-index":a(M),items:P},null,8,["default-select-index"])]),e("div",Fe,[r(D,{color:"red",size:"md",type:"fill"},{default:R(()=>[r(T,{id:"plus",size:24}),e("span",null,d(a(h).addAuto),1)]),_:1})])]),e("div",Me,[(m(!0),f(ie,null,ce(a($),w=>(m(),B(E,{key:w.id,prop:w},null,8,["prop"]))),128))])]),r(W,{onChange_page:U,"pre-page":+a(l).prePage,"active-page":a(l).activePage,"last-page":a(l).lastPage,"amount-product":a(y)},null,8,["pre-page","active-page","last-page","amount-product"])])}}});export{Te as default};
